D:\Project\Matkul-Proyek\SITA-BI\packages\db>pnpm prisma migrate dev            
Environment variables loaded from .env
Prisma schema loaded from prisma\schema.prisma
Datasource "db": MySQL database "sita-bi" at "localhost:3306"


Error: Prisma schema validation - (validate wasm)
Error code: P1012
error: Error parsing attribute "@relation": The given constraint name `file_uploads__fkey` has to be unique in the following namespace: global for foreign keys. Please provide a different name using the `map` argument.
  -->  prisma\schema.prisma:345
   | 
344 | 
345 | model PendaftaranSidang {
346 |   id                    Int                @id @default(autoincrement())
347 |   tugas_akhir_id        Int
348 |   status_verifikasi     StatusVerifikasi   @default(menunggu_verifikasi)
349 |   status_pembimbing_1   StatusPersetujuan  @default(menunggu)
350 |   status_pembimbing_2   StatusPersetujuan  @default(menunggu)
351 |   catatan_admin         String?            @db.Text
352 |   catatan_pembimbing_1  String?            @db.Text
353 |   catatan_pembimbing_2  String?            @db.Text
354 |   created_at            DateTime           @default(now())
355 |   updated_at            DateTime           @updatedAt
356 | 
357 |   // Relasi
358 |   tugasAkhir TugasAkhir @relation(fields: [tugas_akhir_id], references: [id])
359 |   sidang     Sidang?
360 |   files      FileUpload[]
361 | 
362 |   @@map("pendaftaran_sidang")
363 | }
   | 
error: Error validating field `files` in model `PendaftaranSidang`: The relation field `files` on model `PendaftaranSidang` is missing an opposite relation field on the model `FileUpload`. Either run `prisma format` or add it manually.
  -->  prisma\schema.prisma:360
   | 
359 |   sidang     Sidang?
360 |   files      FileUpload[]
361 | 
   | 
error: Error parsing attribute "@relation": The given constraint name `file_uploads__fkey` has to be unique in the following namespace: global for foreign keys. Please provide a different name using the `map` argument.
  -->  prisma\schema.prisma:438
   | 
437 | 
438 | model DokumenTa {
439 |   id                 Int       @id @default(autoincrement())
440 |   tugas_akhir_id     Int
441 |   tipe_dokumen       TipeDokumen
442 |   status_validasi    String    @default("menunggu") // menunggu, disetujui, ditolak
443 |   divalidasi_oleh_p1 Int?
444 |   divalidasi_oleh_p2 Int?
445 |   file_path          String
446 |   version            Int
447 |   deleted_at         DateTime?
448 |   created_at         DateTime  @default(now())
449 |   updated_at         DateTime  @updatedAt
450 | 
451 |   // Relasi
452 |   tugasAkhir    TugasAkhir   @relation(fields: [tugas_akhir_id], references: [id], onDelete: Cascade)
453 |   validatorP1   Dosen?       @relation("ValidatorP1", fields: [divalidasi_oleh_p1], references: [id])
454 |   validatorP2   Dosen?       @relation("ValidatorP2", fields: [divalidasi_oleh_p2], references: [id])
455 |   fileUploads   FileUpload[]
456 | 
457 |   @@map("dokumen_ta")
458 | }
   | 
error: Error validating field `fileUploads` in model `DokumenTa`: The relation field `fileUploads` on model `DokumenTa` is missing an opposite relation field on the model `FileUpload`. Either run `prisma format` or add it manually.
  -->  prisma\schema.prisma:455
   | 
454 |   validatorP2   Dosen?       @relation("ValidatorP2", fields: [divalidasi_oleh_p2], references: [id])
455 |   fileUploads   FileUpload[]
456 | 
   | 
error: Error validating field `pendaftaranSidang` in model `FileUpload`: The relation field `pendaftaranSidang` on model `FileUpload` is missing an opposite relation field on the model `PendaftaranSidang`. Either run `prisma format` or add it manually.
  -->  prisma\schema.prisma:471
   | 
470 |   // Relasi (Emulasi Polymorphic)
471 |   pendaftaranSidang PendaftaranSidang? @relation("FileUploadToPendaftaranSidang", fields: [fileable_id], references: [id], map: "fk_file_uploads_pendaftaran_sidang")
472 |   dokumenTa         DokumenTa?         @relation("FileUploadToDokumenTa", fields: [fileable_id], references: [id], map: "fk_file_uploads_dokumen_ta")
   | 
error: Error validating field `dokumenTa` in model `FileUpload`: The relation field `dokumenTa` on model `FileUpload` is missing an opposite relation field on the model `DokumenTa`. Either run `prisma format` or add it manually.
  -->  prisma\schema.prisma:472
   | 
471 |   pendaftaranSidang PendaftaranSidang? @relation("FileUploadToPendaftaranSidang", fields: [fileable_id], references: [id], map: "fk_file_uploads_pendaftaran_sidang")
472 |   dokumenTa         DokumenTa?         @relation("FileUploadToDokumenTa", fields: [fileable_id], references: [id], map: "fk_file_uploads_dokumen_ta")
473 | 
   | 

Validation Error Count: 6
[Context: validate]

Prisma CLI Version : 6.15.0

D:\Project\Matkul-Proyek\SITA-BI\packages\db>